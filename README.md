# Actix+Next.js æ–‡æ¡£ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªä½¿ç”¨ **Actix Web (Rust)** ä½œä¸ºåç«¯ã€**Next.js (TypeScript)** ä½œä¸ºå‰ç«¯çš„ç°ä»£åŒ–æ–‡æ¡£ç®¡ç†ç³»ç»Ÿã€‚

## âœ¨ æŠ€æœ¯æ ˆ

**åç«¯**:

- Actix Web 4.x - é«˜æ€§èƒ½ Rust Web æ¡†æ¶
- SQLx - å¼‚æ­¥ SQL å·¥å…·åŒ… (SQLite)
- Argon2 - å¯†ç å“ˆå¸Œ
- JWT - èº«ä»½è®¤è¯

**å‰ç«¯**:

- Next.js 16 - React æ¡†æ¶
- shadcn/ui - UI ç»„ä»¶åº“
- Tailwind CSS - æ ·å¼æ¡†æ¶
- Tiptap - å¯Œæ–‡æœ¬ç¼–è¾‘å™¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Rust 1.70+
- Node.js 18+
- npm æˆ– pnpm

### å¼€å‘ç¯å¢ƒè¿è¡Œ

1. **å…‹éš†ä»“åº“**

```bash
git clone <repository-url>
cd actix-doc
```

1. **å¯åŠ¨åç«¯**

```bash
cargo run
```

åç«¯å°†åœ¨ `http://127.0.0.1:8080` å¯åŠ¨

> **æ³¨æ„**: é¦–æ¬¡è¿è¡Œ `cargo build/run` ä¼šè‡ªåŠ¨æ„å»ºå‰ç«¯å¹¶åµŒå…¥åˆ° `static/` ç›®å½•

1. **å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨** (æ–°ç»ˆç«¯ï¼Œå¯é€‰)

```bash
cd front
npm install
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:3000` å¯åŠ¨

1. **è®¿é—®åº”ç”¨**  

- å¼€å‘æ¨¡å¼: `http://localhost:3000` (å‰ç«¯çƒ­æ›´æ–°)
- ç”Ÿäº§æ¨¡å¼: `http://127.0.0.1:8080` (åç«¯æœåŠ¡é™æ€æ–‡ä»¶)

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

**ä¸€é”®æ„å»º**:

```bash
cargo build --release
```

å‰ç«¯ä¼šè‡ªåŠ¨æ„å»ºå¹¶åµŒå…¥ã€‚

**è¿è¡Œ**:

```bash
cargo run --release
```

è®¿é—® `http://127.0.0.1:8080`

## ğŸ“ é¡¹ç›®ç»“æ„

```
actix-doc/
â”œâ”€â”€ src/             # åç«¯ Rust æºä»£ç 
â”œâ”€â”€ migrations/      # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ static/          # å‰ç«¯é™æ€æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ front/           # Next.js å‰ç«¯æºä»£ç 
â”œâ”€â”€ build.rs         # æ„å»ºè„šæœ¬ï¼ˆè‡ªåŠ¨åŒ–å‰ç«¯æ„å»ºï¼‰
â”œâ”€â”€ Cargo.toml       # Rust é¡¹ç›®é…ç½®
â””â”€â”€ .env             # ç¯å¢ƒå˜é‡
```

## ğŸ”§ è‡ªåŠ¨åŒ–æ„å»º

é¡¹ç›®ä½¿ç”¨ `build.rs` å®ç°è‡ªåŠ¨åŒ–ï¼š

- âœ… `cargo build` æ—¶è‡ªåŠ¨æ£€æµ‹ `front/out` æ˜¯å¦å­˜åœ¨
- âœ… å¦‚ä¸å­˜åœ¨ï¼Œè‡ªåŠ¨è¿è¡Œ `npm install` å’Œ `npm run build`
- âœ… è‡ªåŠ¨å¤åˆ¶æ„å»ºäº§ç‰©åˆ° `static/` ç›®å½•
- âœ… æ— éœ€æ‰‹åŠ¨ç®¡ç†å‰ç«¯æ„å»ºæµç¨‹

**æ‰‹åŠ¨é‡æ–°æ„å»ºå‰ç«¯**:

```bash
cd front && npm run build
cargo build  # ä¼šè‡ªåŠ¨å¤åˆ¶æ–°æ–‡ä»¶
```

## ğŸ”‘ ç¯å¢ƒå˜é‡

åœ¨æ ¹ç›®å½• `.env`:

```env
DATABASE_URL=sqlite:./data.db
JWT_SECRET=your_secret_key_min_32_chars
RUST_LOG=info
```

## ğŸ“š API æ–‡æ¡£

- `POST /auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /auth/login` - ç”¨æˆ·ç™»å½•
- `GET /documents` - è·å–æ–‡æ¡£åˆ—è¡¨
- `GET /documents/{id}` - è·å–å•ä¸ªæ–‡æ¡£
- `POST /documents` - åˆ›å»ºæ–‡æ¡£
- `PUT /documents/{id}` - æ›´æ–°æ–‡æ¡£
- `DELETE /documents/{id}` - åˆ é™¤æ–‡æ¡£

## ğŸ› ï¸ å¼€å‘å»ºè®®

- ä½¿ç”¨ `cargo watch -x run` å®ç°åç«¯çƒ­é‡è½½
- å‰ç«¯ä¿®æ”¹åœ¨å¼€å‘æ¨¡å¼ä¸‹ä¼šè‡ªåŠ¨çƒ­æ›´æ–°
- CORS å·²é…ç½®ä¸º permissiveï¼Œæ–¹ä¾¿å¼€å‘è°ƒè¯•

## ğŸ“ License

MIT
